require 'formula'

class HashcatBin < Formula
  homepage 'http://hashcat.net/hashcat/'
  url "https://github.com/hashcat/hashcat", :using => :git, :revision => "7231987"
  head "https://github.com/hashcat/hashcat", :using => :git, :branch => "master"
  version "5.1.0"

  depends_on 'p7zip' => :build

  def install
    pkgshare.install Dir['*']
    if Hardware::CPU.is_64_bit?
	    bin.install_symlink "#{pkgshare}/hashcat64.bin" => 'hashcat.bin'
	  else
	    bin.install_symlink "#{pkgshare}/hashcat32.bin" => 'hashcat.bin'
	  end
  end
end
